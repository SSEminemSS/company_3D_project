<div class="buildingInfo_topBar">
	<i class="iconfont bulidInfo_close">&#xe65f;</i>
</div>
<div class="buildingInfo_title">
	<h2>楼层信息</h2>
</div>
<div class="buildingInfo_detail">
	<span class="buildingInfo_detail_name"></span>
	<table class="buildingInfo_detail_table">
		<tbody>
		</tbody>
	</table>
	<div class="buildingInfo_detail_img">
		<img />
	</div>
	<div class="buildingInfo_detail_btnBox">
		<button class="layui-btn layui-btn-normal buildingInfo_detail_btn">进入楼层</button>
	</div>
</div>
<script type="text/javascript">
	layui.use(['layer', 'form'], function() {
		var form = layui.form,
			layer = layui.layer,
			layerIndex = '';

		//关闭建筑详细信息窗口
		$('.bulidInfo_close').click(function() {
			$('.buildingInfo').css('display', 'none');
		})
		//点击下方建筑列表显示建筑详细信息 
		$('body') //点击进入楼层按钮
			.on('click', '.buildingInfo_detail_btn', function() {
				layer.msg('进入楼层');
			})
			.find('.buildingList_listbox').on('click', 'li', function() {
				$(this).addClass('buildingList_list_hover').siblings('li').removeClass('buildingList_list_hover');
				//根据ID获取详细信息
				//ajax
				var data = $(this).data('item');
				var html = '';
				html += '<tr>\n' +
					'            <td>建筑编码：</td>\n' +
					'            <td>' + data.code + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>建筑地址：</td>\n' +
					'            <td class="layui-elip" title="' + data.address + '">' + data.address + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>楼层：</td>\n' +
					'            <td>' + data.floor + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>类型：</td>\n' +
					'            <td>' + data.type + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>模式：</td>\n' +
					'            <td>' + data.mode + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>建筑方向：</td>\n' +
					'            <td>' + data.direction + '</td>\n' +
					'        </tr>\n' +
					'        <tr>\n' +
					'            <td>区域面积大小：</td>\n' +
					'            <td>' + data.area + '</td>\n' +
					'        </tr>\n' +
					$('.buildingInfo_detail_name').html(data.name);
				$('.buildingInfo_detail_table tbody').html(html);
				$('.buildingInfo_detail_img').find('img').attr('src', data.url);
				$('.buildingInfo').css('display', 'block');
			})

	})
</script>
